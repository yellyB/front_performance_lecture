![2231231](https://user-images.githubusercontent.com/50893303/199966092-6bd2446c-0356-494a-b387-aeb3649d5840.png)

<br/>

# 📖 2-3) 애니메이션 분석(Reflow, Repaint)

쟁크 현상: 초당 60FPS 아래로 떨어지면 애니메이션 버벅임

**DOM+CSSOM ⇒ Render Tree ⇒ Layout ⇒ Paint ⇒ Composite** 을 거침. 변화가 일어나면 다시 처음부터
위 과정을 Critical Rendergin Path 또는 Pixel Pipeline 이라고 함

**문제**
애니메이션이 버벅임: performance 탭에서 보니, 화면에 표시해줘야 하는 타이밍에도 아직 그리는 과정 실행 중
⇒ 그렇다면 위 과정에서 비용이 많이 드는 Layout을 빼버리자

**방법**
Repaint: width, height 를 조정하지 말고 color, backgound-color를 변경하면 레이아웃 과정 필요없어짐

**더 좋은 방법**
GPU의 도움: Reflow, Repaint 피하기
⇒ transform, opacity 변경하면 Layout 과정과 Paint를 건너뛸 수 있음

![image](https://user-images.githubusercontent.com/50893303/199966008-db13c94f-8576-43a2-92d7-bf266199701d.png).

<br/>

# 📖 2-4) 애니메이션 최적화

### css transform 을 이용

1. transform: scaleX()  
   ⇒ 이렇게하면 중간을 기준으로 늘었다 줄었다 함

2. transform-origin : 프로그레스바의 왼쪽에 고정되고 움직이도록 해줄때 사용  
   ⇒ 이렇게하면 애니메이션이 안되고 뚝뚝 끊김

3. transition를 width로 넣어줬었는데 이걸 transform으로 변경해주기

### Performance 탭에서 확인해보면 그래프가 개선된게 보임

![Untitled](https://user-images.githubusercontent.com/50893303/201242871-4530f6bc-d708-4e4a-b056-f17d4af7efbd.png)

- 위 초록색 부분=프레임. 개선 전은 60FP아래로 떨어지는 순간들이 있어 그래프가 들쭉날쭉한 반면, 개선 후는 일정하다.
- 또 아래에 색깔 부분보면 개선 전은 보라색, 초록색이 많이보이는데 메인 쓰레드를 그만큼 잡아먹는다는 뜻

<br/>
